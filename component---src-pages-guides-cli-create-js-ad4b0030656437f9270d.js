(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{223:function(e,t,a){"use strict";a.r(t);var n=a(247),r=a(5),l=a(0),s=a.n(l),c=a(113),o=a(237),i=a(236),m=a(112),u="Creating schemas from .NET types";t.default=function(){var e=n.data.site.siteMetadata,t=e.latestRelease,a=e.projectName;return s.a.createElement(s.a.Fragment,null,s.a.createElement(c.Helmet,null,s.a.createElement("title",null,u)),s.a.createElement("h1",null,u),s.a.createElement("p",null,"Creating schemas from complex .NET types is a time-saving way to get started with Avro. ",a," recognizes most commonly used types and supports classes, structs, and enums, so it’s usually possible to get a working schema with no additional manipulation."),s.a.createElement("p",null,"For detailed information about how types are matched to schemas, see the ",s.a.createElement(r.a,{to:"/internals/mapping"},"types and conversions")," documentation."),s.a.createElement("h2",null,"Getting started"),s.a.createElement("p",null,"If you haven’t already, install the ",a," CLI:"),s.a.createElement(o.a,{language:"shell"},"$ dotnet tool install Chr.Avro.Cli --global\n  Tool 'chr.avro.cli' (version '"+t+"') was successfully installed."),s.a.createElement("p",null,"After the CLI tool has been installed, you can invoke it using ",s.a.createElement("code",null,"dotnet avro"),". If the install command fails, make sure you have the latest version of the ",s.a.createElement(m.a,{to:"https://dotnet.microsoft.com/download"},".NET Core SDK")," installed."),s.a.createElement("h2",null,"Using the CLI"),s.a.createElement("p",null,"To create a schema for a type, use the ",s.a.createElement(r.a,{to:"/cli#create"},s.a.createElement(o.a,{inline:!0,language:"shell"},"create"))," command. You’ll need to provide the type’s full name as well as the path to a compiled assembly that contains it:"),s.a.createElement(o.a,{language:"shell"},'$ dotnet avro create --type ExampleNamespace.ExampleLibrary.ExampleClass --assembly bin/Debug/netstandard2.0/ExampleNamespace.ExampleLibrary.dll\n{"name":"ExampleNamespace.ExampleLibrary.ExampleClass","type":"record","fields":[{"name":"ExampleProperty","type":"int"}]}'),s.a.createElement("h2",null,"Customizing generated schemas"),s.a.createElement("p",null,"The CLI ships with some convenience options:"),s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement("p",null,"The ",s.a.createElement("strong",null,s.a.createElement("code",null,"--nullable-references"))," option causes all reference types to be written as nullable unions. This is useful when you prefer to keep .NET’s nullable semantics.")),s.a.createElement("li",null,s.a.createElement("p",null,"The ",s.a.createElement("strong",null,s.a.createElement("code",null,"--enums-as-integers"))," option causes enums to be represented as ",s.a.createElement(o.a,{inline:!0,language:"avro"},'"int"')," or ",s.a.createElement(o.a,{inline:!0,language:"avro"},'"long"')," schemas instead of ",s.a.createElement(o.a,{inline:!0,language:"avro"},'"enum"')," schemas."))),s.a.createElement("p",null,a," also recognizes ",s.a.createElement(i.a,{id:"T:System.Runtime.Serialization.DataContractAttribute"},"data contract attributes"),", which can be used to customize names."),s.a.createElement("p",null,"If you need to make more complicated modifications to a generated schema, you can customize the schema creation process in code:"),s.a.createElement(o.a,{language:"csharp"},"using Chr.Avro.Abstract;\nusing Chr.Avro.Representation;\nusing System;\n\nnamespace Chr.Avro.Examples.SchemaCustomization\n{\n    public class ExampleClass\n    {\n        public int NumericProperty { get; set; }\n    }\n\n    public class Program\n    {\n        public static void Main(string[] args)\n        {\n            var builder = new SchemaBuilder();\n            var schema = builder.BuildSchema<ExampleClass>(); // a RecordSchema instance\n\n            // do modifications here\n\n            var writer = new JsonSchemaWriter();\n            Console.WriteLine(writer.Write(schema));\n        }\n    }\n}"))}},236:function(e,t,a){"use strict";a.d(t,"a",function(){return d});a(10),a(16),a(78),a(115),a(42),a(4),a(33),a(27),a(9),a(12),a(79);var n=a(5),r=a(0),l=a.n(r),s=a(112),c=a(238),o=a(80);function i(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var m="https://docs.confluent.io/current/clients/confluent-kafka-dotnet/api/",u="https://docs.microsoft.com/en-us/dotnet/api/";function p(e){var t=e.id,a=e.typeParameters,n=void 0===a?[]:a,r=e.methodTypeParameters,s=void 0===r?[]:r;switch(t.substring(0,2)){case"F:":case"P:":return l.a.createElement(h,{id:t},Object(o.createMemberName)(t));case"M:":var m=[l.a.createElement(h,{key:t,id:t},Object(o.createMemberName)(t))];return s&&s.length&&m.push.apply(m,["<"].concat(i(Object(c.join)(s,", ")),[">"])),m.push.apply(m,["("].concat(i(Object(c.join)(Object(o.getMethodParameters)(t).map(function(e,t){return l.a.createElement(p,{key:t,id:"T:"+e,typeParameters:n,methodTypeParameters:s})}),", ")),[")"])),m;case"T:":var u=t.match(/^T:`(\d+)$/),d=t.match(/^T:``(\d+)$/);if(u)return n[u[1]]||"";if(d)return s[d[1]]||"";var g=[l.a.createElement(h,{key:t,id:t},Object(o.createTypeName)(t))],E=Object(o.getTypeParameters)(t),f=t.match(/^T:(.+)`(\d+)$/);return(E||f)&&(g.push("<"),E&&g.push.apply(g,i(Object(c.join)(E.map(function(e,t){return l.a.createElement(p,{key:t,id:"T:"+e,typeParameters:n,methodTypeParameters:s})}),", "))),f&&(t=f[1],g.push(new Array(+f[2]).join(","))),g.push(">")),g.push(Object(o.getTypeSuffix)(t)),g;default:return l.a.createElement(h,{id:t},t.substring(2))}}function h(e){var t=e.children,a=e.id;return/^[EFMNPT]:Chr\.Avro/.test(a)?l.a.createElement(n.a,{to:"/api/"+Object(o.createDocfxUrl)(a).toLowerCase()},t):/^[EFMNPT]:Confluent\.(?:Kafka|SchemaRegistry)/.test(a)?l.a.createElement(s.a,{to:""+m+Object(o.createDocfxUrl)(a)+".html"},t):/^[EFMNPT]:(?:Microsoft|System)/.test(a)?l.a.createElement(s.a,{to:""+u+Object(o.createDocfxUrl)(a).toLowerCase()},t):t}function d(e){var t=e.children,a=e.id,n=e.typeParameters,r=e.methodTypeParameters,s=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,["children","id","typeParameters","methodTypeParameters"]);return t?l.a.createElement(h,Object.assign({id:a},s),t):l.a.createElement("code",s,l.a.createElement(p,{id:a,typeParameters:n,methodTypeParameters:r}))}},237:function(e,t,a){"use strict";a.d(t,"a",function(){return u});a(12);var n=a(0),r=a.n(n),l=a(465),s=a(240),c=a(239),o=a(241),i=a(242);l.a.registerLanguage("avro",c.a),l.a.registerLanguage("csharp",s.a),l.a.registerLanguage("shell",o.a);var m=Object.assign({},i.a,{hljs:{}});function u(e){var t=e.children,a=e.inline,n=e.language;return r.a.createElement(l.a,{language:n,style:m,PreTag:a?"span":"pre"},t)}},238:function(e,t,a){a(9),a(10),a(4),a(78),a(114),e.exports={groupBy:function(e,t){return e.reduce(function(e,a){var n=a[t];return e.has(a[t])||e.set(n,[]),e.get(n).push(a),e},new Map)},join:function(e,t){return e.reduce(function(e,a,n,r){return e.push(a),n<r.length-1&&e.push(t),e},[])}}},247:function(e){e.exports={data:{site:{siteMetadata:{latestRelease:"2.0.5",projectName:"Chr.Avro"}}}}}}]);
//# sourceMappingURL=component---src-pages-guides-cli-create-js-ad4b0030656437f9270d.js.map