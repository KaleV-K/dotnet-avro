{"version":3,"sources":["webpack:///./src/components/benchmarks/benchmarks-table.js","webpack:///./src/pages/internals/benchmarks.js","webpack:///./node_modules/core-js/modules/es6.array.find-index.js","webpack:///./node_modules/core-js/modules/_array-fill.js","webpack:///./node_modules/core-js/modules/es6.array.fill.js","webpack:///./node_modules/core-js/modules/es6.array.find.js"],"names":["suites","libraries","useMemo","map","Map","results","result","has","library","id","set","Array","from","values","sort","a","b","name","localeCompare","grid","suite","rows","row","find","r","component","iterations","length","fill","push","index","findIndex","l","averageValue","times","reduce","toLowerCase","toLocaleString","useGrouping","colSpan","rowSpan","className","styles","column","key","iterationCount","missing","toFixed","title","allBenchmarkSuite","nodes","site","siteMetadata","githubUrl","projectName","Helmet","to","$export","$find","KEY","forced","P","F","callbackfn","this","arguments","undefined","toObject","toAbsoluteIndex","toLength","module","exports","value","O","aLen","end","endPos"],"mappings":"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","file":"component---src-pages-internals-benchmarks-js-6cab536504a20a44d09b.js","sourcesContent":["import React, { useMemo } from 'react'\n\nimport styles from './benchmarks-table.module.scss'\n\nexport default ({ suites }) => {\n  const libraries = useMemo(() => {\n    const map = new Map()\n\n    for (const suite of suites) {\n      for (const result of suite.results) {\n        if (!map.has(result.library.id)) {\n          map.set(result.library.id, result.library)\n        }\n      }\n    }\n\n    return Array.from(map.values())\n      .sort((a, b) => a.name.localeCompare(b.name))\n  }, [suites])\n\n  const grid = useMemo(() => suites.map(suite => {\n    const rows = []\n\n    for (const result of suite.results) {\n      let row = rows.find(r =>\n        r.component === result.component &&\n        r.iterations === result.iterations\n      )\n\n      if (!row) {\n        row = {\n          component: result.component,\n          iterations: result.iterations,\n          results: new Array(libraries.length).fill(null)\n        }\n\n        rows.push(row)\n      }\n\n      const index = libraries.findIndex(l => l.id === result.library.id)\n\n      if (index > -1) {\n        row.results[index] = {\n          averageValue: result.times.reduce((a, b) => a + b) / result.times.length,\n          values: result.times\n        }\n      }\n    }\n\n    return {\n      rows: rows\n        .map(row => ({\n          ...row,\n          component: row.component.toLowerCase(),\n          iterations: row.iterations.toLocaleString({\n            useGrouping: true\n          })\n        }))\n        .sort((a, b) => a.component.localeCompare(b.component)),\n      suite\n    }\n  }).sort((a, b) => a.suite.name.localeCompare(b.suite.name)), [libraries, suites])\n\n  return (\n    <table>\n      <thead>\n        <tr>\n          <th colSpan={2} rowSpan={2}>Benchmark</th>\n          <th colSpan={libraries.length}>Average time (ms)</th>\n        </tr>\n        <tr>\n          {libraries.map(library =>\n            <th className={styles.column} key={library.id}>{library.name}</th>\n          )}\n        </tr>\n      </thead>\n\n      <tbody>\n        {grid.map(({ rows, suite }) => rows.map((row, index) =>\n          <tr key={index}>\n            {index === 0 &&\n              <th className={styles.suite} rowSpan={rows.length}>\n                {suite.name}\n              </th>\n            }\n\n            <td className={styles.component}>\n              <div>{row.component}</div>\n              <div className={styles.iterationCount}>{row.iterations} iterations</div>\n            </td>\n\n            {row.results.map((result, index) =>\n              <td className={result ? styles.result : styles.missing} key={index}>\n                {result\n                  ? result.averageValue.toFixed(3)\n                  : 'n/a'\n                }\n              </td>\n            )}\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  )\n}\n","import { graphql, useStaticQuery } from 'gatsby'\nimport React from 'react'\nimport { Helmet } from 'react-helmet'\n\nimport BenchmarksTable from '../../components/benchmarks/benchmarks-table'\nimport ExternalLink from '../../components/site/external-link'\n\nconst title = 'Performance and benchmarks'\n\nexport default () => {\n  const {\n    allBenchmarkSuite: { nodes: suites },\n    site: {\n      siteMetadata: { githubUrl, projectName }\n    }\n  } = useStaticQuery(graphql`\n    query {\n      allBenchmarkSuite {\n        nodes {\n          id\n          name\n          results {\n            component\n            iterations\n            library {\n              id\n              name\n            }\n            times\n          }\n        }\n      }\n      site {\n        siteMetadata {\n          githubUrl\n          projectName\n        }\n      }\n    }\n  `)\n\n  return (\n    <>\n      <Helmet>\n        <title>{title}</title>\n      </Helmet>\n\n      <h1>{title}</h1>\n      <p>To ensure that changes to {projectName} don’t introduce major performance regressions (and to highlight areas where performance could be improved), we maintain a <ExternalLink to={`${githubUrl}/tree/master/benchmarks`}>set of rudimentary benchmarks</ExternalLink> to test serialization throughput.</p>\n      <p>Each benchmark runs five times, and we take the average time of those runs. These results were collected on a 2017 MacBook Pro (3.1 GHz Intel Core i5):</p>\n\n      <BenchmarksTable suites={suites} />\n\n      <p>In the future, we’re hoping to expand the benchmarks to test more complex situations as well as non-.NET libraries.</p>\n    </>\n  )\n}\n","'use strict';\n// 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(6);\nvar KEY = 'findIndex';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var aLen = arguments.length;\n  var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length);\n  var end = aLen > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { fill: require('./_array-fill') });\n\nrequire('./_add-to-unscopables')('fill');\n","'use strict';\n// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(5);\nvar KEY = 'find';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n"],"sourceRoot":""}